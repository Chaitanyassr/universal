"use strict";
var fluid = require("infusion");
var gpii  = fluid.registerNamespace("gpii");

fluid.registerNamespace("gpii.universal.solutionsRegistry");

/**
 *
 * A convenience function to resolve the path to our settings schema and "require" its contents.
 *
 * @param {String} settingsSchemaPath - A full or package-relative path to a GSS schema.
 * @return {Object} - The contents of the file found at `settingsSchemaPath`.
 *
 */
gpii.universal.solutionsRegistry.getSettingsSchema = function (settingsSchemaPath) {
    var resolvedPath = fluid.module.resolvePath(settingsSchemaPath);
    // When reusing an entire schema, the $schema variable must be removed, as it is not allowed in "deep" material.
    var schema = fluid.filterKeys(require(resolvedPath), ["$schema"],true);
    return schema;
};
